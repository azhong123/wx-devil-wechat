<!--pages/home/home.wxml-->
<import src="../tpls/products/products-tpl.wxml" />
<view class="container">
  <!--轮播图  -->
  <swiper indicator-dots="true" autoplay="true" class="swiper">
    <block wx:for="{{bannerArr}}" wx:key="id">
      <swiper-item class="banner-item" data-id="{{item.keyWord}}" bindtap="onProductsItemTap">
        <!--对于不规则图片 添加 mode="aspectFill" -->
        <image mode="aspectFill" src="{{item.bannerUrl}}" class="item-image"></image>
      </swiper-item>
    </block>
  </swiper>

  <!--精选主题  -->
  <view class="home-main">
    <view class="home-main-theme">
      <view class="home-main-header">精选主题</view>

      <view class="theme-box">
        <block wx:for="{{themeArr}}" wx:key="id">
          <!-- 微信提供的逻辑判断 wx:if  -->
          <view wx:if="{{index == 2}}" class="theme-item big" data-id="{{item.id}}" bindtap="onThemeItemTap">
            <image mode="aspectFill" src="{{item.topicImgUrl}}"></image>
          </view>
          <view wx:else class="theme-item" data-id="{{item.id}}" bindtap="onThemeItemTap">
            <image mode="aspectFill" src="{{item.topicImgUrl}}"></image>
          </view>
        </block>
      </view>
    </view>

    <!--最新上新商品  -->
    <view class="home-main-products">
      <view class="home-main-header">最新上新</view>
      <template is="products" data="{{products:productArr}}"></template>
    </view>

  </view>
</view>